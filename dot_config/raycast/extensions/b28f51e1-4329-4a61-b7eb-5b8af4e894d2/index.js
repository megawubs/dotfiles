"use strict";var Qn=Object.create;var Ae=Object.defineProperty;var Jn=Object.getOwnPropertyDescriptor;var Xn=Object.getOwnPropertyNames;var Zn=Object.getPrototypeOf,Yn=Object.prototype.hasOwnProperty;var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),es=(e,t)=>{for(var r in t)Ae(e,r,{get:t[r],enumerable:!0})},Mt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Xn(t))!Yn.call(e,s)&&s!==r&&Ae(e,s,{get:()=>t[s],enumerable:!(n=Jn(t,s))||n.enumerable});return e};var Rt=(e,t,r)=>(r=e!=null?Qn(Zn(e)):{},Mt(t||!e||!e.__esModule?Ae(r,"default",{value:e,enumerable:!0}):r,e)),ts=e=>Mt(Ae({},"__esModule",{value:!0}),e);var qt=P(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});function ue(e){let t=[...e.caches],r=t.shift();return r===void 0?Tt():{get(n,s,a={miss:()=>Promise.resolve()}){return r.get(n,s,a).catch(()=>ue({caches:t}).get(n,s,a))},set(n,s){return r.set(n,s).catch(()=>ue({caches:t}).set(n,s))},delete(n){return r.delete(n).catch(()=>ue({caches:t}).delete(n))},clear(){return r.clear().catch(()=>ue({caches:t}).clear())}}}function Tt(){return{get(e,t,r={miss:()=>Promise.resolve()}){return t().then(s=>Promise.all([s,r.miss(s)])).then(([s])=>s)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}Pe.createFallbackableCache=ue;Pe.createNullCache=Tt});var Ct=P((Yi,xt)=>{xt.exports=qt()});var Nt=P(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});function rs(e={serializable:!0}){let t={};return{get(r,n,s={miss:()=>Promise.resolve()}){let a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);let i=n(),o=s&&s.miss||(()=>Promise.resolve());return i.then(c=>o(c)).then(()=>i)},set(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete(r){return delete t[JSON.stringify(r)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}Le.createInMemoryCache=rs});var Ut=P((to,Lt)=>{Lt.exports=Nt()});var Bt=P(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});function ns(e,t,r){let n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers(){return e===Ue.WithinHeaders?n:{}},queryParameters(){return e===Ue.WithinQueryParameters?n:{}}}}function ss(e){let t=0,r=()=>(t++,new Promise(n=>{setTimeout(()=>{n(e(r))},Math.min(100*t,1e3))}));return e(r)}function Gt(e,t=(r,n)=>Promise.resolve()){return Object.assign(e,{wait(r){return Gt(e.then(n=>Promise.all([t(n,r),n])).then(n=>n[1]))}})}function as(e){let t=e.length-1;for(t;t>0;t--){let r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function is(e,t){return t&&Object.keys(t).forEach(r=>{e[r]=t[r](e)}),e}function os(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}var cs="4.11.0",us=e=>()=>e.transporter.requester.destroy(),Ue={WithinQueryParameters:0,WithinHeaders:1};U.AuthMode=Ue;U.addMethods=is;U.createAuth=ns;U.createRetryablePromise=ss;U.createWaitablePromise=Gt;U.destroy=us;U.encode=os;U.shuffle=as;U.version=cs});var le=P((no,Wt)=>{Wt.exports=Bt()});var Ft=P(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var ls={Delete:"DELETE",Get:"GET",Post:"POST",Put:"PUT"};Ge.MethodEnum=ls});var he=P((ao,zt)=>{zt.exports=Ft()});var ar=P(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});var Ht=he();function Be(e,t){let r=e||{},n=r.data||{};return Object.keys(r).forEach(s=>{["timeout","headers","queryParameters","data","cacheable"].indexOf(s)===-1&&(n[s]=r[s])}),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var de={Read:1,Write:2,Any:3},ne={Up:1,Down:2,Timeouted:3},Kt=2*60*1e3;function Fe(e,t=ne.Up){return{...e,status:t,lastUpdate:Date.now()}}function Vt(e){return e.status===ne.Up||Date.now()-e.lastUpdate>Kt}function Qt(e){return e.status===ne.Timeouted&&Date.now()-e.lastUpdate<=Kt}function ze(e){return typeof e=="string"?{protocol:"https",url:e,accept:de.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||de.Any}}function hs(e,t){return Promise.all(t.map(r=>e.get(r,()=>Promise.resolve(Fe(r))))).then(r=>{let n=r.filter(o=>Vt(o)),s=r.filter(o=>Qt(o)),a=[...n,...s],i=a.length>0?a.map(o=>ze(o)):t;return{getTimeout(o,c){return(s.length===0&&o===0?1:s.length+3+o)*c},statelessHosts:i}})}var ds=({isTimedOut:e,status:t})=>!e&&~~t===0,ps=e=>{let t=e.status;return e.isTimedOut||ds(e)||~~(t/100)!==2&&~~(t/100)!==4},ms=({status:e})=>~~(e/100)===2,fs=(e,t)=>ps(e)?t.onRetry(e):ms(e)?t.onSuccess(e):t.onFail(e);function $t(e,t,r,n){let s=[],a=er(r,n),i=tr(e,n),o=r.method,c=r.method!==Ht.MethodEnum.Get?{}:{...r.data,...n.data},h={"x-algolia-agent":e.userAgent.value,...e.queryParameters,...c,...n.queryParameters},m=0,f=(d,l)=>{let u=d.pop();if(u===void 0)throw sr(We(s));let v={data:a,headers:i,method:o,url:Zt(u,r.path,h),connectTimeout:l(m,e.timeouts.connect),responseTimeout:l(m,n.timeout)},b=w=>{let j={request:v,response:w,host:u,triesLeft:d.length};return s.push(j),j},A={onSuccess:w=>Jt(w),onRetry(w){let j=b(w);return w.isTimedOut&&m++,Promise.all([e.logger.info("Retryable failure",$e(j)),e.hostsCache.set(u,Fe(u,w.isTimedOut?ne.Timeouted:ne.Down))]).then(()=>f(d,l))},onFail(w){throw b(w),Xt(w,We(s))}};return e.requester.send(v).then(w=>fs(w,A))};return hs(e.hostsCache,t).then(d=>f([...d.statelessHosts].reverse(),d.getTimeout))}function gs(e){let{hostsCache:t,logger:r,requester:n,requestsCache:s,responsesCache:a,timeouts:i,userAgent:o,hosts:c,queryParameters:h,headers:m}=e,f={hostsCache:t,logger:r,requester:n,requestsCache:s,responsesCache:a,timeouts:i,userAgent:o,headers:m,queryParameters:h,hosts:c.map(d=>ze(d)),read(d,l){let u=Be(l,f.timeouts.read),v=()=>$t(f,f.hosts.filter(w=>(w.accept&de.Read)!==0),d,u);if((u.cacheable!==void 0?u.cacheable:d.cacheable)!==!0)return v();let A={request:d,mappedRequestOptions:u,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(A,()=>f.requestsCache.get(A,()=>f.requestsCache.set(A,v()).then(w=>Promise.all([f.requestsCache.delete(A),w]),w=>Promise.all([f.requestsCache.delete(A),Promise.reject(w)])).then(([w,j])=>j)),{miss:w=>f.responsesCache.set(A,w)})},write(d,l){return $t(f,f.hosts.filter(u=>(u.accept&de.Write)!==0),d,Be(l,f.timeouts.write))}};return f}function ys(e){let t={value:`Algolia for JavaScript (${e})`,add(r){let n=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return t.value.indexOf(n)===-1&&(t.value=`${t.value}${n}`),t}};return t}function Jt(e){try{return JSON.parse(e.content)}catch(t){throw nr(t.message,e)}}function Xt({content:e,status:t},r){let n=e;try{n=JSON.parse(e).message}catch{}return rr(n,t,r)}function vs(e,...t){let r=0;return e.replace(/%s/g,()=>encodeURIComponent(t[r++]))}function Zt(e,t,r){let n=Yt(r),s=`${e.protocol}://${e.url}/${t.charAt(0)==="/"?t.substr(1):t}`;return n.length&&(s+=`?${n}`),s}function Yt(e){let t=r=>Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]";return Object.keys(e).map(r=>vs("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])).join("&")}function er(e,t){if(e.method===Ht.MethodEnum.Get||e.data===void 0&&t.data===void 0)return;let r=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(r)}function tr(e,t){let r={...e.headers,...t.headers},n={};return Object.keys(r).forEach(s=>{let a=r[s];n[s.toLowerCase()]=a}),n}function We(e){return e.map(t=>$e(t))}function $e(e){let t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function rr(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}function nr(e,t){return{name:"DeserializationError",message:e,response:t}}function sr(e){return{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:e}}_.CallEnum=de;_.HostStatusEnum=ne;_.createApiError=rr;_.createDeserializationError=nr;_.createMappedRequestOptions=Be;_.createRetryError=sr;_.createStatefulHost=Fe;_.createStatelessHost=ze;_.createTransporter=gs;_.createUserAgent=ys;_.deserializeFailure=Xt;_.deserializeSuccess=Jt;_.isStatefulHostTimeouted=Qt;_.isStatefulHostUp=Vt;_.serializeData=er;_.serializeHeaders=tr;_.serializeQueryParameters=Yt;_.serializeUrl=Zt;_.stackFrameWithoutCredentials=$e;_.stackTraceWithoutCredentials=We});var pe=P((oo,ir)=>{ir.exports=ar()});var or=P(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});var se=le(),bs=pe(),me=he(),Es=e=>{let t=e.region||"us",r=se.createAuth(se.AuthMode.WithinHeaders,e.appId,e.apiKey),n=bs.createTransporter({hosts:[{url:`analytics.${t}.algolia.com`}],...e,headers:{...r.headers(),"content-type":"application/json",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}}),s=e.appId;return se.addMethods({appId:s,transporter:n},e.methods)},ws=e=>(t,r)=>e.transporter.write({method:me.MethodEnum.Post,path:"2/abtests",data:t},r),Os=e=>(t,r)=>e.transporter.write({method:me.MethodEnum.Delete,path:se.encode("2/abtests/%s",t)},r),As=e=>(t,r)=>e.transporter.read({method:me.MethodEnum.Get,path:se.encode("2/abtests/%s",t)},r),Ps=e=>t=>e.transporter.read({method:me.MethodEnum.Get,path:"2/abtests"},t),Ss=e=>(t,r)=>e.transporter.write({method:me.MethodEnum.Post,path:se.encode("2/abtests/%s/stop",t)},r);z.addABTest=ws;z.createAnalyticsClient=Es;z.deleteABTest=Os;z.getABTest=As;z.getABTests=Ps;z.stopABTest=Ss});var ur=P((uo,cr)=>{cr.exports=or()});var hr=P(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var He=le(),ks=pe(),lr=he(),Is=e=>{let t=e.region||"us",r=He.createAuth(He.AuthMode.WithinHeaders,e.appId,e.apiKey),n=ks.createTransporter({hosts:[{url:`personalization.${t}.algolia.com`}],...e,headers:{...r.headers(),"content-type":"application/json",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}});return He.addMethods({appId:e.appId,transporter:n},e.methods)},js=e=>t=>e.transporter.read({method:lr.MethodEnum.Get,path:"1/strategies/personalization"},t),_s=e=>(t,r)=>e.transporter.write({method:lr.MethodEnum.Post,path:"1/strategies/personalization",data:t},r);fe.createPersonalizationClient=Is;fe.getPersonalizationStrategy=js;fe.setPersonalizationStrategy=_s});var pr=P((ho,dr)=>{dr.exports=hr()});var Ir=P(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});var y=le(),N=pe(),E=he(),Ds=require("crypto");function Se(e){let t=r=>e.request(r).then(n=>{if(e.batch!==void 0&&e.batch(n.hits),!e.shouldStop(n))return n.cursor?t({cursor:n.cursor}):t({page:(r.page||0)+1})});return t({})}var Ms=e=>{let t=e.appId,r=y.createAuth(e.authMode!==void 0?e.authMode:y.AuthMode.WithinHeaders,t,e.apiKey),n=N.createTransporter({hosts:[{url:`${t}-dsn.algolia.net`,accept:N.CallEnum.Read},{url:`${t}.algolia.net`,accept:N.CallEnum.Write}].concat(y.shuffle([{url:`${t}-1.algolianet.com`},{url:`${t}-2.algolianet.com`},{url:`${t}-3.algolianet.com`}])),...e,headers:{...r.headers(),"content-type":"application/x-www-form-urlencoded",...e.headers},queryParameters:{...r.queryParameters(),...e.queryParameters}}),s={transporter:n,appId:t,addAlgoliaAgent(a,i){n.userAgent.add({segment:a,version:i})},clearCache(){return Promise.all([n.requestsCache.clear(),n.responsesCache.clear()]).then(()=>{})}};return y.addMethods(s,e.methods)};function mr(){return{name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}}function fr(){return{name:"ObjectNotFoundError",message:"Object not found."}}function gr(){return{name:"ValidUntilNotFoundError",message:"ValidUntil not found in given secured api key."}}var Rs=e=>(t,r)=>{let{queryParameters:n,...s}=r||{},a={acl:t,...n!==void 0?{queryParameters:n}:{}},i=(o,c)=>y.createRetryablePromise(h=>ge(e)(o.key,c).catch(m=>{if(m.status!==404)throw m;return h()}));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:"1/keys",data:a},s),i)},Ts=e=>(t,r,n)=>{let s=N.createMappedRequestOptions(n);return s.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:E.MethodEnum.Post,path:"1/clusters/mapping",data:{cluster:r}},s)},qs=e=>(t,r,n)=>e.transporter.write({method:E.MethodEnum.Post,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},n),xs=e=>(t,r)=>y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(n,s)=>ae(e)(n.taskID,s)),ke=e=>(t,r,n)=>{let s=(a,i)=>ye(e)(t,{methods:{waitTask:M}}).waitTask(a.taskID,i);return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},n),s)},Cs=e=>(t,r,n)=>ke(e)(t,r,{...n,scope:[je.Rules]}),Ns=e=>(t,r,n)=>ke(e)(t,r,{...n,scope:[je.Settings]}),Ls=e=>(t,r,n)=>ke(e)(t,r,{...n,scope:[je.Synonyms]}),Us=e=>(t,r)=>t.method===E.MethodEnum.Get?e.transporter.read(t,r):e.transporter.write(t,r),Gs=e=>(t,r)=>{let n=(s,a)=>y.createRetryablePromise(i=>ge(e)(t,a).then(i).catch(o=>{if(o.status!==404)throw o}));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Delete,path:y.encode("1/keys/%s",t)},r),n)},Bs=e=>(t,r,n)=>{let s=r.map(a=>({action:"deleteEntry",body:{objectID:a}}));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:s}},n),(a,i)=>ae(e)(a.taskID,i))},Ws=()=>(e,t)=>{let r=N.serializeQueryParameters(t),n=Ds.createHmac("sha256",e).update(r).digest("hex");return Buffer.from(n+r).toString("base64")},ge=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/keys/%s",t)},r),Fs=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"/1/dictionaries/*/settings"},t),zs=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"1/logs"},t),$s=()=>e=>{let t=Buffer.from(e,"base64").toString("ascii"),r=/validUntil=(\d+)/,n=t.match(r);if(n===null)throw gr();return parseInt(n[1],10)-Math.round(new Date().getTime()/1e3)},Hs=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"1/clusters/mapping/top"},t),yr=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/task/%s",t.toString())},r),Ks=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/clusters/mapping/%s",t)},r),Vs=e=>t=>{let{retrieveMappings:r,...n}=t||{};return r===!0&&(n.getClusters=!0),e.transporter.read({method:E.MethodEnum.Get,path:"1/clusters/mapping/pending"},n)},ye=e=>(t,r={})=>{let n={transporter:e.transporter,appId:e.appId,indexName:t};return y.addMethods(n,r.methods)},Qs=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"1/keys"},t),Js=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"1/clusters"},t),Xs=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"1/indexes"},t),Zs=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:"1/clusters/mapping"},t),Ys=e=>(t,r,n)=>{let s=(a,i)=>ye(e)(t,{methods:{waitTask:M}}).waitTask(a.taskID,i);return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},n),s)},ea=e=>(t,r)=>{let n=(s,a)=>Promise.all(Object.keys(s.taskID).map(i=>ye(e)(i,{methods:{waitTask:M}}).waitTask(s.taskID[i],a)));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:"1/indexes/*/batch",data:{requests:t}},r),n)},ta=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:t}},r),ra=e=>(t,r)=>{let n=t.map(s=>({...s,params:N.serializeQueryParameters(s.params||{})}));return e.transporter.read({method:E.MethodEnum.Post,path:"1/indexes/*/queries",data:{requests:n},cacheable:!0},r)},na=e=>(t,r)=>Promise.all(t.map(n=>{let{facetName:s,facetQuery:a,...i}=n.params;return ye(e)(n.indexName,{methods:{searchForFacetValues:Pr}}).searchForFacetValues(s,a,{...r,...i})})),sa=e=>(t,r)=>{let n=N.createMappedRequestOptions(r);return n.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:E.MethodEnum.Delete,path:"1/clusters/mapping"},n)},aa=e=>(t,r,n)=>{let s=r.map(a=>({action:"addEntry",body:a}));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:s}},n),(a,i)=>ae(e)(a.taskID,i))},ia=e=>(t,r)=>{let n=(s,a)=>y.createRetryablePromise(i=>ge(e)(t,a).catch(o=>{if(o.status!==404)throw o;return i()}));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/keys/%s/restore",t)},r),n)},oa=e=>(t,r,n)=>{let s=r.map(a=>({action:"addEntry",body:a}));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:s}},n),(a,i)=>ae(e)(a.taskID,i))},ca=e=>(t,r,n)=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("/1/dictionaries/%s/search",t),data:{query:r},cacheable:!0},n),ua=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Post,path:"1/clusters/mapping/search",data:{query:t}},r),la=e=>(t,r)=>y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Put,path:"/1/dictionaries/*/settings",data:t},r),(n,s)=>ae(e)(n.taskID,s)),ha=e=>(t,r)=>{let n=Object.assign({},r),{queryParameters:s,...a}=r||{},i=s?{queryParameters:s}:{},o=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"],c=m=>Object.keys(n).filter(f=>o.indexOf(f)!==-1).every(f=>m[f]===n[f]),h=(m,f)=>y.createRetryablePromise(d=>ge(e)(t,f).then(l=>c(l)?Promise.resolve():d()));return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Put,path:y.encode("1/keys/%s",t),data:i},a),h)},ae=e=>(t,r)=>y.createRetryablePromise(n=>yr(e)(t,r).then(s=>s.status!=="published"?n():void 0)),vr=e=>(t,r)=>{let n=(s,a)=>M(e)(s.taskID,a);return y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),n)},da=e=>t=>Se({shouldStop:r=>r.cursor===void 0,...t,request:r=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/browse",e.indexName),data:r},t)}),pa=e=>t=>{let r={hitsPerPage:1e3,...t};return Se({shouldStop:n=>n.hits.length<r.hitsPerPage,...r,request(n){return Sr(e)("",{...r,...n}).then(s=>({...s,hits:s.hits.map(a=>(delete a._highlightResult,a))}))}})},ma=e=>t=>{let r={hitsPerPage:1e3,...t};return Se({shouldStop:n=>n.hits.length<r.hitsPerPage,...r,request(n){return kr(e)("",{...r,...n}).then(s=>({...s,hits:s.hits.map(a=>(delete a._highlightResult,a))}))}})},Ie=e=>(t,r,n)=>{let{batchSize:s,...a}=n||{},i={taskIDs:[],objectIDs:[]},o=(c=0)=>{let h=[],m;for(m=c;m<t.length&&(h.push(t[m]),h.length!==(s||1e3));m++);return h.length===0?Promise.resolve(i):vr(e)(h.map(f=>({action:r,body:f})),a).then(f=>(i.objectIDs=i.objectIDs.concat(f.objectIDs),i.taskIDs.push(f.taskID),m++,o(m)))};return y.createWaitablePromise(o(),(c,h)=>Promise.all(c.taskIDs.map(m=>M(e)(m,h))))},fa=e=>t=>y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/clear",e.indexName)},t),(r,n)=>M(e)(r.taskID,n)),ga=e=>t=>{let{forwardToReplicas:r,...n}=t||{},s=N.createMappedRequestOptions(n);return r&&(s.queryParameters.forwardToReplicas=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/rules/clear",e.indexName)},s),(a,i)=>M(e)(a.taskID,i))},ya=e=>t=>{let{forwardToReplicas:r,...n}=t||{},s=N.createMappedRequestOptions(n);return r&&(s.queryParameters.forwardToReplicas=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/synonyms/clear",e.indexName)},s),(a,i)=>M(e)(a.taskID,i))},va=e=>(t,r)=>y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(n,s)=>M(e)(n.taskID,s)),ba=e=>t=>y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Delete,path:y.encode("1/indexes/%s",e.indexName)},t),(r,n)=>M(e)(r.taskID,n)),Ea=e=>(t,r)=>y.createWaitablePromise(br(e)([t],r).then(n=>({taskID:n.taskIDs[0]})),(n,s)=>M(e)(n.taskID,s)),br=e=>(t,r)=>{let n=t.map(s=>({objectID:s}));return Ie(e)(n,J.DeleteObject,r)},wa=e=>(t,r)=>{let{forwardToReplicas:n,...s}=r||{},a=N.createMappedRequestOptions(s);return n&&(a.queryParameters.forwardToReplicas=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Delete,path:y.encode("1/indexes/%s/rules/%s",e.indexName,t)},a),(i,o)=>M(e)(i.taskID,o))},Oa=e=>(t,r)=>{let{forwardToReplicas:n,...s}=r||{},a=N.createMappedRequestOptions(s);return n&&(a.queryParameters.forwardToReplicas=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Delete,path:y.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},a),(i,o)=>M(e)(i.taskID,o))},Aa=e=>t=>Er(e)(t).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),Pa=e=>(t,r,n)=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n),Sa=e=>(t,r)=>{let{query:n,paginate:s,...a}=r||{},i=0,o=()=>Ar(e)(n||"",{...a,page:i}).then(c=>{for(let[h,m]of Object.entries(c.hits))if(t(m))return{object:m,position:parseInt(h,10),page:i};if(i++,s===!1||i>=c.nbPages)throw fr();return o()});return o()},ka=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/indexes/%s/%s",e.indexName,t)},r),Ia=()=>(e,t)=>{for(let[r,n]of Object.entries(e.hits))if(n.objectID===t)return parseInt(r,10);return-1},ja=e=>(t,r)=>{let{attributesToRetrieve:n,...s}=r||{},a=t.map(i=>({indexName:e.indexName,objectID:i,...n?{attributesToRetrieve:n}:{}}));return e.transporter.read({method:E.MethodEnum.Post,path:"1/indexes/*/objects",data:{requests:a}},s)},_a=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/indexes/%s/rules/%s",e.indexName,t)},r),Er=e=>t=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t),Da=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/indexes/%s/synonyms/%s",e.indexName,t)},r),wr=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Get,path:y.encode("1/indexes/%s/task/%s",e.indexName,t.toString())},r),Ma=e=>(t,r)=>y.createWaitablePromise(Or(e)([t],r).then(n=>({objectID:n.objectIDs[0],taskID:n.taskIDs[0]})),(n,s)=>M(e)(n.taskID,s)),Or=e=>(t,r)=>{let{createIfNotExists:n,...s}=r||{},a=n?J.PartialUpdateObject:J.PartialUpdateObjectNoCreate;return Ie(e)(t,a,s)},Ra=e=>(t,r)=>{let{safe:n,autoGenerateObjectIDIfNotExist:s,batchSize:a,...i}=r||{},o=(u,v,b,A)=>y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/operation",u),data:{operation:b,destination:v}},A),(w,j)=>M(e)(w.taskID,j)),c=Math.random().toString(36).substring(7),h=`${e.indexName}_tmp_${c}`,m=Ke({appId:e.appId,transporter:e.transporter,indexName:h}),f=[],d=o(e.indexName,h,"copy",{...i,scope:["settings","synonyms","rules"]});f.push(d);let l=(n?d.wait(i):d).then(()=>{let u=m(t,{...i,autoGenerateObjectIDIfNotExist:s,batchSize:a});return f.push(u),n?u.wait(i):u}).then(()=>{let u=o(h,e.indexName,"move",i);return f.push(u),n?u.wait(i):u}).then(()=>Promise.all(f)).then(([u,v,b])=>({objectIDs:v.objectIDs,taskIDs:[u.taskID,...v.taskIDs,b.taskID]}));return y.createWaitablePromise(l,(u,v)=>Promise.all(f.map(b=>b.wait(v))))},Ta=e=>(t,r)=>Ve(e)(t,{...r,clearExistingRules:!0}),qa=e=>(t,r)=>Qe(e)(t,{...r,clearExistingSynonyms:!0}),xa=e=>(t,r)=>y.createWaitablePromise(Ke(e)([t],r).then(n=>({objectID:n.objectIDs[0],taskID:n.taskIDs[0]})),(n,s)=>M(e)(n.taskID,s)),Ke=e=>(t,r)=>{let{autoGenerateObjectIDIfNotExist:n,...s}=r||{},a=n?J.AddObject:J.UpdateObject;if(a===J.UpdateObject){for(let i of t)if(i.objectID===void 0)return y.createWaitablePromise(Promise.reject(mr()))}return Ie(e)(t,a,s)},Ca=e=>(t,r)=>Ve(e)([t],r),Ve=e=>(t,r)=>{let{forwardToReplicas:n,clearExistingRules:s,...a}=r||{},i=N.createMappedRequestOptions(a);return n&&(i.queryParameters.forwardToReplicas=1),s&&(i.queryParameters.clearExistingRules=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/rules/batch",e.indexName),data:t},i),(o,c)=>M(e)(o.taskID,c))},Na=e=>(t,r)=>Qe(e)([t],r),Qe=e=>(t,r)=>{let{forwardToReplicas:n,clearExistingSynonyms:s,replaceExistingSynonyms:a,...i}=r||{},o=N.createMappedRequestOptions(i);return n&&(o.queryParameters.forwardToReplicas=1),(a||s)&&(o.queryParameters.replaceExistingSynonyms=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/synonyms/batch",e.indexName),data:t},o),(c,h)=>M(e)(c.taskID,h))},Ar=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r),Pr=e=>(t,r,n)=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n),Sr=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r),kr=e=>(t,r)=>e.transporter.read({method:E.MethodEnum.Post,path:y.encode("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r),La=e=>(t,r)=>{let{forwardToReplicas:n,...s}=r||{},a=N.createMappedRequestOptions(s);return n&&(a.queryParameters.forwardToReplicas=1),y.createWaitablePromise(e.transporter.write({method:E.MethodEnum.Put,path:y.encode("1/indexes/%s/settings",e.indexName),data:t},a),(i,o)=>M(e)(i.taskID,o))},M=e=>(t,r)=>y.createRetryablePromise(n=>wr(e)(t,r).then(s=>s.status!=="published"?n():void 0)),Ua={AddObject:"addObject",Analytics:"analytics",Browser:"browse",DeleteIndex:"deleteIndex",DeleteObject:"deleteObject",EditSettings:"editSettings",ListIndexes:"listIndexes",Logs:"logs",Personalization:"personalization",Recommendation:"recommendation",Search:"search",SeeUnretrievableAttributes:"seeUnretrievableAttributes",Settings:"settings",Usage:"usage"},J={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},je={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Ga={None:"none",StopIfEnoughMatches:"stopIfEnoughMatches"},Ba={Synonym:"synonym",OneWaySynonym:"oneWaySynonym",AltCorrection1:"altCorrection1",AltCorrection2:"altCorrection2",Placeholder:"placeholder"};p.ApiKeyACLEnum=Ua;p.BatchActionEnum=J;p.ScopeEnum=je;p.StrategyEnum=Ga;p.SynonymEnum=Ba;p.addApiKey=Rs;p.assignUserID=Ts;p.assignUserIDs=qs;p.batch=vr;p.browseObjects=da;p.browseRules=pa;p.browseSynonyms=ma;p.chunkedBatch=Ie;p.clearDictionaryEntries=xs;p.clearObjects=fa;p.clearRules=ga;p.clearSynonyms=ya;p.copyIndex=ke;p.copyRules=Cs;p.copySettings=Ns;p.copySynonyms=Ls;p.createBrowsablePromise=Se;p.createMissingObjectIDError=mr;p.createObjectNotFoundError=fr;p.createSearchClient=Ms;p.createValidUntilNotFoundError=gr;p.customRequest=Us;p.deleteApiKey=Gs;p.deleteBy=va;p.deleteDictionaryEntries=Bs;p.deleteIndex=ba;p.deleteObject=Ea;p.deleteObjects=br;p.deleteRule=wa;p.deleteSynonym=Oa;p.exists=Aa;p.findAnswers=Pa;p.findObject=Sa;p.generateSecuredApiKey=Ws;p.getApiKey=ge;p.getAppTask=yr;p.getDictionarySettings=Fs;p.getLogs=zs;p.getObject=ka;p.getObjectPosition=Ia;p.getObjects=ja;p.getRule=_a;p.getSecuredApiKeyRemainingValidity=$s;p.getSettings=Er;p.getSynonym=Da;p.getTask=wr;p.getTopUserIDs=Hs;p.getUserID=Ks;p.hasPendingMappings=Vs;p.initIndex=ye;p.listApiKeys=Qs;p.listClusters=Js;p.listIndices=Xs;p.listUserIDs=Zs;p.moveIndex=Ys;p.multipleBatch=ea;p.multipleGetObjects=ta;p.multipleQueries=ra;p.multipleSearchForFacetValues=na;p.partialUpdateObject=Ma;p.partialUpdateObjects=Or;p.removeUserID=sa;p.replaceAllObjects=Ra;p.replaceAllRules=Ta;p.replaceAllSynonyms=qa;p.replaceDictionaryEntries=aa;p.restoreApiKey=ia;p.saveDictionaryEntries=oa;p.saveObject=xa;p.saveObjects=Ke;p.saveRule=Ca;p.saveRules=Ve;p.saveSynonym=Na;p.saveSynonyms=Qe;p.search=Ar;p.searchDictionaryEntries=ca;p.searchForFacetValues=Pr;p.searchRules=Sr;p.searchSynonyms=kr;p.searchUserIDs=ua;p.setDictionarySettings=la;p.setSettings=La;p.updateApiKey=ha;p.waitAppTask=ae;p.waitTask=M});var _r=P((mo,jr)=>{jr.exports=Ir()});var Dr=P(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});function Wa(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var Fa={Debug:1,Info:2,Error:3};_e.LogLevelEnum=Fa;_e.createNullLogger=Wa});var Rr=P((go,Mr)=>{Mr.exports=Dr()});var Cr=P(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});var Tr=require("http"),qr=require("https"),za=require("url"),xr={keepAlive:!0},$a=new Tr.Agent(xr),Ha=new qr.Agent(xr);function Ka({agent:e,httpAgent:t,httpsAgent:r,requesterOptions:n={}}={}){let s=t||e||$a,a=r||e||Ha;return{send(i){return new Promise(o=>{let c=za.parse(i.url),h=c.query===null?c.pathname:`${c.pathname}?${c.query}`,m={...n,agent:c.protocol==="https:"?a:s,hostname:c.hostname,path:h,method:i.method,headers:{...n&&n.headers?n.headers:{},...i.headers},...c.port!==void 0?{port:c.port||""}:{}},f=(c.protocol==="https:"?qr:Tr).request(m,v=>{let b=[];v.on("data",A=>{b=b.concat(A)}),v.on("end",()=>{clearTimeout(l),clearTimeout(u),o({status:v.statusCode||0,content:Buffer.concat(b).toString(),isTimedOut:!1})})}),d=(v,b)=>setTimeout(()=>{f.abort(),o({status:0,content:b,isTimedOut:!0})},v*1e3),l=d(i.connectTimeout,"Connection timeout"),u;f.on("error",v=>{clearTimeout(l),clearTimeout(u),o({status:0,content:v.message,isTimedOut:!1})}),f.once("response",()=>{clearTimeout(l),u=d(i.responseTimeout,"Socket timeout")}),i.data!==void 0&&f.write(i.data),f.end()})},destroy(){return s.destroy(),a.destroy(),Promise.resolve()}}}Je.createNodeHttpRequester=Ka});var Lr=P((vo,Nr)=>{Nr.exports=Cr()});var Wr=P((bo,Br)=>{"use strict";var Ur=Ct(),Va=Ut(),ie=ur(),Ze=le(),Xe=pr(),g=_r(),Qa=Rr(),Ja=Lr(),Xa=pe();function Gr(e,t,r){let n={appId:e,apiKey:t,timeouts:{connect:2,read:5,write:30},requester:Ja.createNodeHttpRequester(),logger:Qa.createNullLogger(),responsesCache:Ur.createNullCache(),requestsCache:Ur.createNullCache(),hostsCache:Va.createInMemoryCache(),userAgent:Xa.createUserAgent(Ze.version).add({segment:"Node.js",version:process.versions.node})},s={...n,...r},a=()=>i=>Xe.createPersonalizationClient({...n,...i,methods:{getPersonalizationStrategy:Xe.getPersonalizationStrategy,setPersonalizationStrategy:Xe.setPersonalizationStrategy}});return g.createSearchClient({...s,methods:{search:g.multipleQueries,searchForFacetValues:g.multipleSearchForFacetValues,multipleBatch:g.multipleBatch,multipleGetObjects:g.multipleGetObjects,multipleQueries:g.multipleQueries,copyIndex:g.copyIndex,copySettings:g.copySettings,copyRules:g.copyRules,copySynonyms:g.copySynonyms,moveIndex:g.moveIndex,listIndices:g.listIndices,getLogs:g.getLogs,listClusters:g.listClusters,multipleSearchForFacetValues:g.multipleSearchForFacetValues,getApiKey:g.getApiKey,addApiKey:g.addApiKey,listApiKeys:g.listApiKeys,updateApiKey:g.updateApiKey,deleteApiKey:g.deleteApiKey,restoreApiKey:g.restoreApiKey,assignUserID:g.assignUserID,assignUserIDs:g.assignUserIDs,getUserID:g.getUserID,searchUserIDs:g.searchUserIDs,listUserIDs:g.listUserIDs,getTopUserIDs:g.getTopUserIDs,removeUserID:g.removeUserID,hasPendingMappings:g.hasPendingMappings,generateSecuredApiKey:g.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:g.getSecuredApiKeyRemainingValidity,destroy:Ze.destroy,clearDictionaryEntries:g.clearDictionaryEntries,deleteDictionaryEntries:g.deleteDictionaryEntries,getDictionarySettings:g.getDictionarySettings,getAppTask:g.getAppTask,replaceDictionaryEntries:g.replaceDictionaryEntries,saveDictionaryEntries:g.saveDictionaryEntries,searchDictionaryEntries:g.searchDictionaryEntries,setDictionarySettings:g.setDictionarySettings,waitAppTask:g.waitAppTask,customRequest:g.customRequest,initIndex:i=>o=>g.initIndex(i)(o,{methods:{batch:g.batch,delete:g.deleteIndex,findAnswers:g.findAnswers,getObject:g.getObject,getObjects:g.getObjects,saveObject:g.saveObject,saveObjects:g.saveObjects,search:g.search,searchForFacetValues:g.searchForFacetValues,waitTask:g.waitTask,setSettings:g.setSettings,getSettings:g.getSettings,partialUpdateObject:g.partialUpdateObject,partialUpdateObjects:g.partialUpdateObjects,deleteObject:g.deleteObject,deleteObjects:g.deleteObjects,deleteBy:g.deleteBy,clearObjects:g.clearObjects,browseObjects:g.browseObjects,getObjectPosition:g.getObjectPosition,findObject:g.findObject,exists:g.exists,saveSynonym:g.saveSynonym,saveSynonyms:g.saveSynonyms,getSynonym:g.getSynonym,searchSynonyms:g.searchSynonyms,browseSynonyms:g.browseSynonyms,deleteSynonym:g.deleteSynonym,clearSynonyms:g.clearSynonyms,replaceAllObjects:g.replaceAllObjects,replaceAllSynonyms:g.replaceAllSynonyms,searchRules:g.searchRules,getRule:g.getRule,deleteRule:g.deleteRule,saveRule:g.saveRule,saveRules:g.saveRules,replaceAllRules:g.replaceAllRules,browseRules:g.browseRules,clearRules:g.clearRules}}),initAnalytics:()=>i=>ie.createAnalyticsClient({...n,...i,methods:{addABTest:ie.addABTest,getABTest:ie.getABTest,getABTests:ie.getABTests,stopABTest:ie.stopABTest,deleteABTest:ie.deleteABTest}}),initPersonalization:a,initRecommendation:()=>i=>(s.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),a()(i))}})}Gr.version=Ze.version;Br.exports=Gr});var zr=P((Eo,Ye)=>{var Fr=Wr();Ye.exports=Fr;Ye.exports.default=Fr});var Hr=P((wo,$r)=>{$r.exports=zr()});var Vr=P((Kr,De)=>{"use strict";(function(e){if(typeof t!="function"){var t=function(l){return l};t.nonNative=!0}let r=t("plaintext"),n=t("html"),s=t("comment"),a=/<(\w*)>/g,i=/<\/?([^\s\/>]+)/;function o(l,u,v){l=l||"",u=u||[],v=v||"";let b=h(u,v);return m(l,b)}function c(l,u){l=l||[],u=u||"";let v=h(l,u);return function(A){return m(A||"",v)}}o.init_streaming_mode=c;function h(l,u){return l=f(l),{allowable_tags:l,tag_replacement:u,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function m(l,u){if(typeof l!="string")throw new TypeError("'html' parameter must be a string");let v=u.allowable_tags,b=u.tag_replacement,A=u.state,w=u.tag_buffer,j=u.depth,D=u.in_quote_char,q="";for(let x=0,S=l.length;x<S;x++){let O=l[x];if(A===r)switch(O){case"<":A=n,w+=O;break;default:q+=O;break}else if(A===n)switch(O){case"<":if(D)break;j++;break;case">":if(D)break;if(j){j--;break}D="",A=r,w+=">",v.has(d(w))?q+=w:q+=b,w="";break;case'"':case"'":O===D?D="":D=D||O,w+=O;break;case"-":w==="<!-"&&(A=s),w+=O;break;case" ":case`
`:if(w==="<"){A=r,q+="< ",w="";break}w+=O;break;default:w+=O;break}else if(A===s)switch(O){case">":w.slice(-2)=="--"&&(A=r),w="";break;default:w+=O;break}}return u.state=A,u.tag_buffer=w,u.depth=j,u.in_quote_char=D,q}function f(l){let u=new Set;if(typeof l=="string"){let v;for(;v=a.exec(l);)u.add(v[1])}else!t.nonNative&&typeof l[t.iterator]=="function"?u=new Set(l):typeof l.forEach=="function"&&l.forEach(u.add,u);return u}function d(l){let u=i.exec(l);return u?u[1].toLowerCase():null}typeof define=="function"&&define.amd?define(function(){return o}):typeof De=="object"&&De.exports?De.exports=o:e.striptags=o})(Kr)});var Qr=P(tt=>{var X=require("path"),H=process.platform==="win32",$=require("fs"),Za=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Ya(){var e;if(Za){var t=new Error;e=r}else e=n;return e;function r(s){s&&(t.message=s.message,s=t,n(s))}function n(s){if(s){if(process.throwDeprecation)throw s;if(!process.noDeprecation){var a="fs: missing callback "+(s.stack||s.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function ei(e){return typeof e=="function"?e:Ya()}var Ao=X.normalize;H?W=/(.*?)(?:[\/\\]+|$)/g:W=/(.*?)(?:[\/]+|$)/g;var W;H?ve=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:ve=/^[\/]*/;var ve;tt.realpathSync=function(t,r){if(t=X.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,s={},a={},i,o,c,h;m();function m(){var b=ve.exec(t);i=b[0].length,o=b[0],c=b[0],h="",H&&!a[c]&&($.lstatSync(c),a[c]=!0)}for(;i<t.length;){W.lastIndex=i;var f=W.exec(t);if(h=o,o+=f[0],c=h+f[1],i=W.lastIndex,!(a[c]||r&&r[c]===c)){var d;if(r&&Object.prototype.hasOwnProperty.call(r,c))d=r[c];else{var l=$.lstatSync(c);if(!l.isSymbolicLink()){a[c]=!0,r&&(r[c]=c);continue}var u=null;if(!H){var v=l.dev.toString(32)+":"+l.ino.toString(32);s.hasOwnProperty(v)&&(u=s[v])}u===null&&($.statSync(c),u=$.readlinkSync(c)),d=X.resolve(h,u),r&&(r[c]=d),H||(s[v]=u)}t=X.resolve(d,t.slice(i)),m()}}return r&&(r[n]=t),t};tt.realpath=function(t,r,n){if(typeof n!="function"&&(n=ei(r),r=null),t=X.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var s=t,a={},i={},o,c,h,m;f();function f(){var b=ve.exec(t);o=b[0].length,c=b[0],h=b[0],m="",H&&!i[h]?$.lstat(h,function(A){if(A)return n(A);i[h]=!0,d()}):process.nextTick(d)}function d(){if(o>=t.length)return r&&(r[s]=t),n(null,t);W.lastIndex=o;var b=W.exec(t);return m=c,c+=b[0],h=m+b[1],o=W.lastIndex,i[h]||r&&r[h]===h?process.nextTick(d):r&&Object.prototype.hasOwnProperty.call(r,h)?v(r[h]):$.lstat(h,l)}function l(b,A){if(b)return n(b);if(!A.isSymbolicLink())return i[h]=!0,r&&(r[h]=h),process.nextTick(d);if(!H){var w=A.dev.toString(32)+":"+A.ino.toString(32);if(a.hasOwnProperty(w))return u(null,a[w],h)}$.stat(h,function(j){if(j)return n(j);$.readlink(h,function(D,q){H||(a[w]=q),u(D,q)})})}function u(b,A,w){if(b)return n(b);var j=X.resolve(m,A);r&&(r[w]=j),v(j)}function v(b){t=X.resolve(b,t.slice(o)),f()}}});var at=P((So,Yr)=>{Yr.exports=K;K.realpath=K;K.sync=st;K.realpathSync=st;K.monkeypatch=ri;K.unmonkeypatch=ni;var oe=require("fs"),rt=oe.realpath,nt=oe.realpathSync,ti=process.version,Jr=/^v[0-5]\./.test(ti),Xr=Qr();function Zr(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function K(e,t,r){if(Jr)return rt(e,t,r);typeof t=="function"&&(r=t,t=null),rt(e,t,function(n,s){Zr(n)?Xr.realpath(e,t,r):r(n,s)})}function st(e,t){if(Jr)return nt(e,t);try{return nt(e,t)}catch(r){if(Zr(r))return Xr.realpathSync(e,t);throw r}}function ri(){oe.realpath=K,oe.realpathSync=st}function ni(){oe.realpath=rt,oe.realpathSync=nt}});var tn=P((ko,en)=>{var si=typeof process=="object"&&process&&process.platform==="win32";en.exports=si?{sep:"\\"}:{sep:"/"}});var on=P((Io,an)=>{"use strict";an.exports=nn;function nn(e,t,r){e instanceof RegExp&&(e=rn(e,r)),t instanceof RegExp&&(t=rn(t,r));var n=sn(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function rn(e,t){var r=t.match(e);return r?r[0]:null}nn.range=sn;function sn(e,t,r){var n,s,a,i,o,c=r.indexOf(e),h=r.indexOf(t,c+1),m=c;if(c>=0&&h>0){if(e===t)return[c,h];for(n=[],a=r.length;m>=0&&!o;)m==c?(n.push(m),c=r.indexOf(e,m+1)):n.length==1?o=[n.pop(),h]:(s=n.pop(),s<a&&(a=s,i=h),h=r.indexOf(t,m+1)),m=c<h&&c>=0?c:h;n.length&&(o=[a,i])}return o}});var fn=P((jo,mn)=>{var cn=on();mn.exports=oi;var un="\0SLASH"+Math.random()+"\0",ln="\0OPEN"+Math.random()+"\0",ot="\0CLOSE"+Math.random()+"\0",hn="\0COMMA"+Math.random()+"\0",dn="\0PERIOD"+Math.random()+"\0";function it(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function ai(e){return e.split("\\\\").join(un).split("\\{").join(ln).split("\\}").join(ot).split("\\,").join(hn).split("\\.").join(dn)}function ii(e){return e.split(un).join("\\").split(ln).join("{").split(ot).join("}").split(hn).join(",").split(dn).join(".")}function pn(e){if(!e)return[""];var t=[],r=cn("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,a=r.post,i=n.split(",");i[i.length-1]+="{"+s+"}";var o=pn(a);return a.length&&(i[i.length-1]+=o.shift(),i.push.apply(i,o)),t.push.apply(t,i),t}function oi(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),be(ai(e),!0).map(ii)):[]}function ci(e){return"{"+e+"}"}function ui(e){return/^-?0\d/.test(e)}function li(e,t){return e<=t}function hi(e,t){return e>=t}function be(e,t){var r=[],n=cn("{","}",e);if(!n)return[e];var s=n.pre,a=n.post.length?be(n.post,!1):[""];if(/\$$/.test(n.pre))for(var i=0;i<a.length;i++){var o=s+"{"+n.body+"}"+a[i];r.push(o)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),m=c||h,f=n.body.indexOf(",")>=0;if(!m&&!f)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+ot+n.post,be(e)):[e];var d;if(m)d=n.body.split(/\.\./);else if(d=pn(n.body),d.length===1&&(d=be(d[0],!1).map(ci),d.length===1))return a.map(function(re){return n.pre+d[0]+re});var l;if(m){var u=it(d[0]),v=it(d[1]),b=Math.max(d[0].length,d[1].length),A=d.length==3?Math.abs(it(d[2])):1,w=li,j=v<u;j&&(A*=-1,w=hi);var D=d.some(ui);l=[];for(var q=u;w(q,v);q+=A){var x;if(h)x=String.fromCharCode(q),x==="\\"&&(x="");else if(x=String(q),D){var S=b-x.length;if(S>0){var O=new Array(S+1).join("0");q<0?x="-"+O+x.slice(1):x=O+x}}l.push(x)}}else{l=[];for(var I=0;I<d.length;I++)l.push.apply(l,be(d[I],!1))}for(var I=0;I<l.length;I++)for(var i=0;i<a.length;i++){var o=s+l[I]+a[i];(!t||m||o)&&r.push(o)}}return r}});var qe=P((Do,dt)=>{var L=dt.exports=(e,t,r={})=>(Te(t),!r.nocomment&&t.charAt(0)==="#"?!1:new ce(t,r).match(e));dt.exports=L;var lt=tn();L.sep=lt.sep;var G=Symbol("globstar **");L.GLOBSTAR=G;var di=fn(),gn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ht="[^/]",ct=ht+"*?",pi="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",mi="(?:(?!(?:\\/|^)\\.).)*?",bn=e=>e.split("").reduce((t,r)=>(t[r]=!0,t),{}),yn=bn("().*{}+?[]^$\\!"),fi=bn("[.("),vn=/\/+/;L.filter=(e,t={})=>(r,n,s)=>L(r,e,t);var V=(e,t={})=>{let r={};return Object.keys(e).forEach(n=>r[n]=e[n]),Object.keys(t).forEach(n=>r[n]=t[n]),r};L.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return L;let t=L,r=(n,s,a)=>t(n,s,V(e,a));return r.Minimatch=class extends t.Minimatch{constructor(s,a){super(s,V(e,a))}},r.Minimatch.defaults=n=>t.defaults(V(e,n)).Minimatch,r.filter=(n,s)=>t.filter(n,V(e,s)),r.defaults=n=>t.defaults(V(e,n)),r.makeRe=(n,s)=>t.makeRe(n,V(e,s)),r.braceExpand=(n,s)=>t.braceExpand(n,V(e,s)),r.match=(n,s,a)=>t.match(n,s,V(e,a)),r};L.braceExpand=(e,t)=>En(e,t);var En=(e,t={})=>(Te(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:di(e)),gi=1024*64,Te=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>gi)throw new TypeError("pattern is too long")},ut=Symbol("subparse");L.makeRe=(e,t)=>new ce(e,t||{}).makeRe();L.match=(e,t,r={})=>{let n=new ce(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e};var yi=e=>e.replace(/\\(.)/g,"$1"),vi=e=>e.replace(/\\([^-\]])/g,"$1"),bi=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ei=e=>e.replace(/[[\]\\]/g,"\\$&"),ce=class{constructor(t,r){Te(t),r||(r={}),this.options=r,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,n),n=this.globParts=n.map(s=>s.split(vn)),this.debug(this.pattern,n),n=n.map((s,a,i)=>s.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(s=>s.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n){var s=this.options;this.debug("matchOne",{this:this,file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,i=0,o=t.length,c=r.length;a<o&&i<c;a++,i++){this.debug("matchOne loop");var h=r[i],m=t[a];if(this.debug(r,h,m),h===!1)return!1;if(h===G){this.debug("GLOBSTAR",[r,h,m]);var f=a,d=i+1;if(d===c){for(this.debug("** at the end");a<o;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;f<o;){var l=t[f];if(this.debug(`
globstar while`,t,f,r,d,l),this.matchOne(t.slice(f),r.slice(d),n))return this.debug("globstar found match!",f,o,l),!0;if(l==="."||l===".."||!s.dot&&l.charAt(0)==="."){this.debug("dot detected!",t,f,r,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,f,r,d),f===o))}var u;if(typeof h=="string"?(u=m===h,this.debug("string match",h,m,u)):(u=m.match(h),this.debug("pattern match",h,m,u)),!u)return!1}if(a===o&&i===c)return!0;if(a===o)return n;if(i===c)return a===o-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return En(this.pattern,this.options)}parse(t,r){Te(t);let n=this.options;if(t==="**")if(n.noglobstar)t="*";else return G;if(t==="")return"";let s="",a=!1,i=!1,o=[],c=[],h,m=!1,f=-1,d=-1,l,u,v,b=t.charAt(0)===".",A=n.dot||b,w=()=>b?"":A?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",j=S=>S.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",D=()=>{if(h){switch(h){case"*":s+=ct,a=!0;break;case"?":s+=ht,a=!0;break;default:s+="\\"+h;break}this.debug("clearStateChar %j %j",h,s),h=!1}};for(let S=0,O;S<t.length&&(O=t.charAt(S));S++){if(this.debug("%s	%s %s %j",t,S,s,O),i){if(O==="/")return!1;yn[O]&&(s+="\\"),s+=O,i=!1;continue}switch(O){case"/":return!1;case"\\":if(m&&t.charAt(S+1)==="-"){s+=O;continue}D(),i=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,S,s,O),m){this.debug("  in class"),O==="!"&&S===d+1&&(O="^"),s+=O;continue}this.debug("call clearStateChar %j",h),D(),h=O,n.noext&&D();continue;case"(":{if(m){s+="(";continue}if(!h){s+="\\(";continue}let I={type:h,start:S-1,reStart:s.length,open:gn[h].open,close:gn[h].close};this.debug(this.pattern,"	",I),o.push(I),s+=I.open,I.start===0&&I.type!=="!"&&(b=!0,s+=j(t.slice(S+1))),this.debug("plType %j %j",h,s),h=!1;continue}case")":{let I=o[o.length-1];if(m||!I){s+="\\)";continue}o.pop(),D(),a=!0,u=I,s+=u.close,u.type==="!"&&c.push(Object.assign(u,{reEnd:s.length}));continue}case"|":{let I=o[o.length-1];if(m||!I){s+="\\|";continue}D(),s+="|",I.start===0&&I.type!=="!"&&(b=!0,s+=j(t.slice(S+1)));continue}case"[":if(D(),m){s+="\\"+O;continue}m=!0,d=S,f=s.length,s+=O;continue;case"]":if(S===d+1||!m){s+="\\"+O;continue}l=t.substring(d+1,S);try{RegExp("["+Ei(vi(l))+"]"),s+=O}catch{s=s.substring(0,f)+"(?:$.)"}a=!0,m=!1;continue;default:D(),yn[O]&&!(O==="^"&&m)&&(s+="\\"),s+=O;break}}for(m&&(l=t.slice(d+1),v=this.parse(l,ut),s=s.substring(0,f)+"\\["+v[0],a=a||v[1]),u=o.pop();u;u=o.pop()){let S;S=s.slice(u.reStart+u.open.length),this.debug("setting tail",s,u),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,(I,re,B)=>(B||(B="\\"),re+re+B+"|")),this.debug(`tail=%j
   %s`,S,S,u,s);let O=u.type==="*"?ct:u.type==="?"?ht:"\\"+u.type;a=!0,s=s.slice(0,u.reStart)+O+"\\("+S}D(),i&&(s+="\\\\");let q=fi[s.charAt(0)];for(let S=c.length-1;S>-1;S--){let O=c[S],I=s.slice(0,O.reStart),re=s.slice(O.reStart,O.reEnd-8),B=s.slice(O.reEnd),$n=s.slice(O.reEnd-8,O.reEnd)+B,Hn=I.split(")").length,Kn=I.split("(").length-Hn,Ne=B;for(let Dt=0;Dt<Kn;Dt++)Ne=Ne.replace(/\)[+*?]?/,"");B=Ne;let Vn=B===""&&r!==ut?"(?:$|\\/)":"";s=I+re+B+Vn+$n}if(s!==""&&a&&(s="(?=.)"+s),q&&(s=w()+s),r===ut)return[s,a];if(n.nocase&&!a&&(a=t.toUpperCase()!==t.toLowerCase()),!a)return yi(t);let x=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+s+"$",x),{_glob:t,_src:s})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?ct:r.dot?pi:mi,s=r.nocase?"i":"",a=t.map(i=>(i=i.map(o=>typeof o=="string"?bi(o):o===G?G:o._src).reduce((o,c)=>(o[o.length-1]===G&&c===G||o.push(c),o),[]),i.forEach((o,c)=>{o!==G||i[c-1]===G||(c===0?i.length>1?i[c+1]="(?:\\/|"+n+"\\/)?"+i[c+1]:i[c]=n:c===i.length-1?i[c-1]+="(?:\\/|"+n+")?":(i[c-1]+="(?:\\/|\\/"+n+"\\/)"+i[c+1],i[c+1]=G))}),i.filter(o=>o!==G).join("/"))).join("|");a="^(?:"+a+")$",this.negate&&(a="^(?!"+a+").*$");try{this.regexp=new RegExp(a,s)}catch{this.regexp=!1}return this.regexp}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;lt.sep!=="/"&&(t=t.split(lt.sep).join("/")),t=t.split(vn),this.debug(this.pattern,"split",t);let s=this.set;this.debug(this.pattern,"set",s);let a;for(let i=t.length-1;i>=0&&(a=t[i],!a);i--);for(let i=0;i<s.length;i++){let o=s[i],c=t;if(n.matchBase&&o.length===1&&(c=[a]),this.matchOne(c,o,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return L.defaults(t).Minimatch}};L.Minimatch=ce});var wn=P((Mo,pt)=>{typeof Object.create=="function"?pt.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:pt.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var On=P((Ro,ft)=>{try{if(mt=require("util"),typeof mt.inherits!="function")throw"";ft.exports=mt.inherits}catch{ft.exports=wn()}var mt});var yt=P(Q=>{Q.setopts=ki;Q.ownProp=An;Q.makeAbs=Ee;Q.finish=Ii;Q.mark=ji;Q.isIgnored=Sn;Q.childrenIgnored=_i;function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var wi=require("fs"),Z=require("path"),Oi=qe(),Pn=require("path").isAbsolute,gt=Oi.Minimatch;function Ai(e,t){return e.localeCompare(t,"en")}function Pi(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(Si))}function Si(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new gt(r,{dot:!0})}return{matcher:new gt(e,{dot:!0}),gmatcher:t}}function ki(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,e.windowsPathsNoEscape&&(t=t.replace(/\\/g,"/")),e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||wi,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),Pi(e,r),e.changedCwd=!1;var n=process.cwd();An(r,"cwd")?(e.cwd=Z.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=Z.resolve(n),e.root=r.root||Z.resolve(e.cwd,"/"),e.root=Z.resolve(e.root),e.cwdAbs=Pn(e.cwd)?e.cwd:Ee(e,e.cwd),e.nomount=!!r.nomount,process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/"),e.cwd=e.cwd.replace(/\\/g,"/"),e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),r.nonegate=!0,r.nocomment=!0,e.minimatch=new gt(t,r),e.options=e.minimatch.options}function Ii(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,s=e.matches.length;n<s;n++){var a=e.matches[n];if(!a||Object.keys(a).length===0){if(e.nonull){var i=e.minimatch.globSet[n];t?r.push(i):r[i]=!0}}else{var o=Object.keys(a);t?r.push.apply(r,o):o.forEach(function(c){r[c]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(Ai)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(c){var h=!/\/$/.test(c),m=e.cache[c]||e.cache[Ee(e,c)];return h&&m&&(h=m!=="DIR"&&!Array.isArray(m)),h}))}e.ignore.length&&(r=r.filter(function(c){return!Sn(e,c)})),e.found=r}function ji(e,t){var r=Ee(e,t),n=e.cache[r],s=t;if(n){var a=n==="DIR"||Array.isArray(n),i=t.slice(-1)==="/";if(a&&!i?s+="/":!a&&i&&(s=s.slice(0,-1)),s!==t){var o=Ee(e,s);e.statCache[o]=e.statCache[r],e.cache[o]=e.cache[r]}}return s}function Ee(e,t){var r=t;return t.charAt(0)==="/"?r=Z.join(e.root,t):Pn(t)||t===""?r=t:e.changedCwd?r=Z.resolve(e.cwd,t):r=Z.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Sn(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function _i(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var Dn=P((No,_n)=>{_n.exports=jn;jn.GlobSync=R;var Di=at(),kn=qe(),qo=kn.Minimatch,xo=Et().Glob,Co=require("util"),vt=require("path"),In=require("assert"),xe=require("path").isAbsolute,Y=yt(),Mi=Y.setopts,bt=Y.ownProp,Ri=Y.childrenIgnored,Ti=Y.isIgnored;function jn(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new R(e,t).found}function R(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof R))return new R(e,t);if(Mi(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}R.prototype._finish=function(){if(In.ok(this instanceof R),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var s in t)try{s=e._makeAbs(s);var a=Di.realpathSync(s,e.realpathCache);n[a]=!0}catch(i){if(i.syscall==="stat")n[e._makeAbs(s)]=!0;else throw i}})}Y.finish(this)};R.prototype._process=function(e,t,r){In.ok(this instanceof R);for(var n=0;typeof e[n]=="string";)n++;var s;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:s=null;break;default:s=e.slice(0,n).join("/");break}var a=e.slice(n),i;s===null?i=".":((xe(s)||xe(e.map(function(h){return typeof h=="string"?h:"[*]"}).join("/")))&&(!s||!xe(s))&&(s="/"+s),i=s);var o=this._makeAbs(i);if(!Ri(this,i)){var c=a[0]===kn.GLOBSTAR;c?this._processGlobStar(s,i,o,a,t,r):this._processReaddir(s,i,o,a,t,r)}};R.prototype._processReaddir=function(e,t,r,n,s,a){var i=this._readdir(r,a);if(i){for(var o=n[0],c=!!this.minimatch.negate,h=o._glob,m=this.dot||h.charAt(0)===".",f=[],d=0;d<i.length;d++){var l=i[d];if(l.charAt(0)!=="."||m){var u;c&&!e?u=!l.match(o):u=l.match(o),u&&f.push(l)}}var v=f.length;if(v!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<v;d++){var l=f[d];e&&(e.slice(-1)!=="/"?l=e+"/"+l:l=e+l),l.charAt(0)==="/"&&!this.nomount&&(l=vt.join(this.root,l)),this._emitMatch(s,l)}return}n.shift();for(var d=0;d<v;d++){var l=f[d],b;e?b=[e,l]:b=[l],this._process(b.concat(n),s,a)}}}};R.prototype._emitMatch=function(e,t){if(!Ti(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};R.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var s=r&&r.isSymbolicLink();return this.symlinks[e]=s,!s&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};R.prototype._readdir=function(e,t){var r;if(t&&!bt(this.symlinks,e))return this._readdirInGlobStar(e);if(bt(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(s){return this._readdirError(e,s),null}};R.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};R.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};R.prototype._processGlobStar=function(e,t,r,n,s,a){var i=this._readdir(r,a);if(i){var o=n.slice(1),c=e?[e]:[],h=c.concat(o);this._process(h,s,!1);var m=i.length,f=this.symlinks[r];if(!(f&&a))for(var d=0;d<m;d++){var l=i[d];if(!(l.charAt(0)==="."&&!this.dot)){var u=c.concat(i[d],o);this._process(u,s,!0);var v=c.concat(i[d],n);this._process(v,s,!0)}}}};R.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&xe(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=vt.join(this.root,e):(e=vt.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};R.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&bt(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!r||i==="DIR")return i;if(r&&i==="FILE")return!1}var n,s=this.statCache[t];if(!s){var a;try{a=this.fs.lstatSync(t)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{s=this.fs.statSync(t)}catch{s=a}else s=a}this.statCache[t]=s;var i=!0;return s&&(i=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,r&&i==="FILE"?!1:i};R.prototype._mark=function(e){return Y.mark(this,e)};R.prototype._makeAbs=function(e){return Y.makeAbs(this,e)}});var wt=P((Lo,Rn)=>{Rn.exports=Mn;function Mn(e,t){if(e&&t)return Mn(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];var a=e.apply(this,n),i=n[n.length-1];return typeof a=="function"&&a!==i&&Object.keys(i).forEach(function(o){a[o]=i[o]}),a}}});var At=P((Uo,Ot)=>{var Tn=wt();Ot.exports=Tn(Ce);Ot.exports.strict=Tn(qn);Ce.proto=Ce(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ce(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return qn(this)},configurable:!0})});function Ce(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function qn(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Cn=P((Go,xn)=>{var qi=wt(),we=Object.create(null),xi=At();xn.exports=qi(Ci);function Ci(e,t){return we[e]?(we[e].push(t),null):(we[e]=[t],Ni(e))}function Ni(e){return xi(function t(){var r=we[e],n=r.length,s=Li(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,s)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,s)})):delete we[e]}})}function Li(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Et=P((Fo,Ln)=>{Ln.exports=ee;var Ui=at(),Nn=qe(),Bo=Nn.Minimatch,Gi=On(),Bi=require("events").EventEmitter,Pt=require("path"),St=require("assert"),Oe=require("path").isAbsolute,It=Dn(),te=yt(),Wi=te.setopts,kt=te.ownProp,jt=Cn(),Wo=require("util"),Fi=te.childrenIgnored,zi=te.isIgnored,$i=At();function ee(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return It(e,t)}return new k(e,t,r)}ee.sync=It;var Hi=ee.GlobSync=It.GlobSync;ee.glob=ee;function Ki(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}ee.hasMagic=function(e,t){var r=Ki({},t);r.noprocess=!0;var n=new k(e,r),s=n.minimatch.set;if(!e)return!1;if(s.length>1)return!0;for(var a=0;a<s[0].length;a++)if(typeof s[0][a]!="string")return!0;return!1};ee.Glob=k;Gi(k,Bi);function k(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new Hi(e,t)}if(!(this instanceof k))return new k(e,t,r);Wi(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=$i(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return o();for(var a=!0,i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1,o);a=!1;function o(){--s._processing,s._processing<=0&&(a?process.nextTick(function(){s._finish()}):s._finish())}}k.prototype._finish=function(){if(St(this instanceof k),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();te.finish(this),this.emit("end",this.found)}};k.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};k.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),s=this,a=n.length;if(a===0)return t();var i=this.matches[e]=Object.create(null);n.forEach(function(o,c){o=s._makeAbs(o),Ui.realpath(o,s.realpathCache,function(h,m){h?h.syscall==="stat"?i[o]=!0:s.emit("error",h):i[m]=!0,--a===0&&(s.matches[e]=i,t())})})};k.prototype._mark=function(e){return te.mark(this,e)};k.prototype._makeAbs=function(e){return te.makeAbs(this,e)};k.prototype.abort=function(){this.aborted=!0,this.emit("abort")};k.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};k.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var s=n[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}};k.prototype._process=function(e,t,r,n){if(St(this instanceof k),St(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var s=0;typeof e[s]=="string";)s++;var a;switch(s){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:a=null;break;default:a=e.slice(0,s).join("/");break}var i=e.slice(s),o;a===null?o=".":((Oe(a)||Oe(e.map(function(m){return typeof m=="string"?m:"[*]"}).join("/")))&&(!a||!Oe(a))&&(a="/"+a),o=a);var c=this._makeAbs(o);if(Fi(this,o))return n();var h=i[0]===Nn.GLOBSTAR;h?this._processGlobStar(a,o,c,i,t,r,n):this._processReaddir(a,o,c,i,t,r,n)}};k.prototype._processReaddir=function(e,t,r,n,s,a,i){var o=this;this._readdir(r,a,function(c,h){return o._processReaddir2(e,t,r,n,s,a,h,i)})};k.prototype._processReaddir2=function(e,t,r,n,s,a,i,o){if(!i)return o();for(var c=n[0],h=!!this.minimatch.negate,m=c._glob,f=this.dot||m.charAt(0)===".",d=[],l=0;l<i.length;l++){var u=i[l];if(u.charAt(0)!=="."||f){var v;h&&!e?v=!u.match(c):v=u.match(c),v&&d.push(u)}}var b=d.length;if(b===0)return o();if(n.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var l=0;l<b;l++){var u=d[l];e&&(e!=="/"?u=e+"/"+u:u=e+u),u.charAt(0)==="/"&&!this.nomount&&(u=Pt.join(this.root,u)),this._emitMatch(s,u)}return o()}n.shift();for(var l=0;l<b;l++){var u=d[l],A;e&&(e!=="/"?u=e+"/"+u:u=e+u),this._process([u].concat(n),s,a,o)}o()};k.prototype._emitMatch=function(e,t){if(!this.aborted&&!zi(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Oe(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var s=this.statCache[r];s&&this.emit("stat",t,s),this.emit("match",t)}}};k.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,s=jt(r,a);s&&n.fs.lstat(e,s);function a(i,o){if(i&&i.code==="ENOENT")return t();var c=o&&o.isSymbolicLink();n.symlinks[e]=c,!c&&o&&!o.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};k.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=jt("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!kt(this.symlinks,e))return this._readdirInGlobStar(e,r);if(kt(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var s=this;s.fs.readdir(e,Vi(this,e,r))}};function Vi(e,t,r){return function(n,s){n?e._readdirError(t,n,r):e._readdirEntries(t,s,r)}}k.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var s=t[n];e==="/"?s=e+s:s=e+"/"+s,this.cache[s]=!0}return this.cache[e]=t,r(null,t)}};k.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};k.prototype._processGlobStar=function(e,t,r,n,s,a,i){var o=this;this._readdir(r,a,function(c,h){o._processGlobStar2(e,t,r,n,s,a,h,i)})};k.prototype._processGlobStar2=function(e,t,r,n,s,a,i,o){if(!i)return o();var c=n.slice(1),h=e?[e]:[],m=h.concat(c);this._process(m,s,!1,o);var f=this.symlinks[r],d=i.length;if(f&&a)return o();for(var l=0;l<d;l++){var u=i[l];if(!(u.charAt(0)==="."&&!this.dot)){var v=h.concat(i[l],c);this._process(v,s,!0,o);var b=h.concat(i[l],n);this._process(b,s,!0,o)}}o()};k.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(s,a){n._processSimple2(e,t,s,a,r)})};k.prototype._processSimple2=function(e,t,r,n,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return s();if(e&&Oe(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Pt.join(this.root,e):(e=Pt.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),s()};k.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&kt(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!n||s==="DIR")return t(null,s);if(n&&s==="FILE")return t()}var a,i=this.statCache[r];if(i!==void 0){if(i===!1)return t(null,i);var o=i.isDirectory()?"DIR":"FILE";return n&&o==="FILE"?t():t(null,o,i)}var c=this,h=jt("stat\0"+r,m);h&&c.fs.lstat(r,h);function m(f,d){if(d&&d.isSymbolicLink())return c.fs.stat(r,function(l,u){l?c._stat2(e,r,null,d,t):c._stat2(e,r,l,u,t)});c._stat2(e,r,f,d,t)}};k.prototype._stat2=function(e,t,r,n,s){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,s();var a=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return s(null,!1,n);var i=!0;return n&&(i=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,a&&i==="FILE"?s():s(null,i,n)}});var Ji={};es(Ji,{default:()=>zn});module.exports=ts(Ji);var T=require("@raycast/api"),F=require("react"),Wn=Rt(Hr()),Fn=Rt(Vr());var Me=require("@raycast/api"),Re=require("react/jsx-runtime");function et(e){return(0,Re.jsx)(Me.List.Dropdown,{tooltip:"Select version",onChange:e.onChange,id:e.id,storeValue:!0,children:(0,Re.jsx)(Me.List.Dropdown.Section,{title:"Select version",children:e.versions.map(t=>(0,Re.jsx)(Me.List.Dropdown.Item,{title:t,value:t},t))})})}var C=require("react/jsx-runtime"),Qi=Et(),_t=Object.fromEntries(Qi.sync(__dirname+"/assets/documentation/*.json").map(e=>[/(?<version>[^/]+)\.json/.exec(e)?.groups?.version,require(e)]).sort(function(e,t){let r=e[0].match(/\d+/),n=t[0].match(/\d+/);return r===null?-1:n===null?1:n[0]-r[0]})),Un="E3MIRNPJH5",Gn="1fa3a8fec06eb1858d6ca137211225c0",Bn="laravel";function zn(){let e=(0,F.useMemo)(()=>(0,Wn.default)(Un,Gn),[Un,Gn]),t=(0,F.useMemo)(()=>e.initIndex(Bn),[e,Bn]),[r,n]=(0,F.useState)(),[s,a]=(0,F.useState)(),[i,o]=(0,F.useState)(!0),c=l=>Object.values(l).filter(u=>u).map(u=>u.replaceAll("&amp;","&")),h=l=>c(l.hierarchy).pop()||"",m=l=>{let u=(0,Fn.default)(l._highlightResult?.content?.value||"");if(u)return u;let v=c(l.hierarchy)||[];return v.pop(),v.join(" > ")},f=async(l="")=>{if(l!=="")return o(!0),await t.search(l,{hitsPerPage:11,facetFilters:["version:"+s]}).then(u=>(o(!1),u.hits)).catch(u=>(o(!1),(0,T.showToast)(T.Toast.Style.Failure,"Error searching Laravel Documentation",u.message),[]))};if((0,F.useEffect)(()=>{(async()=>n(await f()))()},[]),!s)return(0,C.jsx)(T.List,{isLoading:i,searchBarAccessory:(0,C.jsx)(et,{id:"version",versions:Object.keys(_t),onChange:a})});let d=_t[s];return i&&Object.entries(d).length&&o(!1),(0,C.jsx)(T.List,{throttle:!1,isLoading:i,onSearchTextChange:async l=>n(await f(l)),searchBarAccessory:(0,C.jsx)(et,{id:"version",versions:Object.keys(_t),onChange:a}),children:r?.map(l=>(0,C.jsx)(T.List.Item,{title:h(l),subtitle:m(l),icon:"command-icon.png",actions:(0,C.jsxs)(T.ActionPanel,{title:l.url,children:[(0,C.jsx)(T.Action.OpenInBrowser,{url:l.url,title:"Open in Browser"}),(0,C.jsx)(T.Action.CopyToClipboard,{content:l.url,title:"Copy URL"})]})},l.objectID))||Object.entries(d).map(([l,u])=>(0,C.jsx)(T.List.Section,{title:l,children:u.map(v=>(0,C.jsx)(T.List.Item,{title:v.title,icon:"command-icon.png",actions:(0,C.jsxs)(T.ActionPanel,{title:v.url,children:[(0,C.jsx)(T.Action.OpenInBrowser,{url:v.url,title:"Open in Browser"}),(0,C.jsx)(T.Action.CopyToClipboard,{content:v.url,title:"Copy URL"})]})},v.url))},l))})}
